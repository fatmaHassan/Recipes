{
  "info": {
    "_postman_id": "recipes-api-collection",
		"name": "Recipes API Collection",
		"description": "Complete API collection for testing TheMealDB API endpoints used in the Recipes application.\n\nThis collection includes:\n- Recipe search by ingredient\n- Get all ingredients list\n- Get recipe details by ID\n\nAll requests include automated tests and assertions.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
    "item": [
    {
      "name": "Recipes",
      "item": [
        {
          "name": "Search Recipes by Ingredient",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response time is less than 2000ms\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(2000);",
                  "});",
                  "",
                  "pm.test(\"Response has JSON body\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "pm.test(\"Response contains meals property\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('meals');",
                  "});",
                  "",
                  "pm.test(\"Meals is array or null (null means no results)\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    const meals = jsonData.meals;",
                  "    pm.expect(meals === null || Array.isArray(meals)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"If meals exist, they have required fields\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    if (jsonData.meals && jsonData.meals.length > 0) {",
                  "        const meal = jsonData.meals[0];",
                  "        pm.expect(meal).to.have.property('idMeal');",
                  "        pm.expect(meal).to.have.property('strMeal');",
                  "        pm.expect(meal).to.have.property('strMealThumb');",
                  "    }",
                  "});",
                  "",
                  "// Save first meal ID for use in other requests",
                  "if (pm.response.json().meals && pm.response.json().meals.length > 0) {",
                  "    pm.collectionVariables.set(\"sample_meal_id\", pm.response.json().meals[0].idMeal);",
                  "    pm.collectionVariables.set(\"sample_meal_name\", pm.response.json().meals[0].strMeal);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/filter.php?i={{ingredient}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "filter.php"
              ],
              "query": [
                {
                  "key": "i",
                  "value": "{{ingredient}}",
                  "description": "Ingredient name (e.g., chicken, beef, tomato)"
                }
              ]
            },
            "description": "Search for recipes that contain a specific ingredient.\n\n**Note:** TheMealDB returns `null` (not empty array) when no results are found.\n\n**Example ingredients:** chicken, beef, tomato, onion, garlic"
          },
          "response": []
        },
        {
          "name": "Get Recipe Details by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response time is less than 2000ms\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(2000);",
                  "});",
                  "",
                  "pm.test(\"Response has JSON body\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "pm.test(\"Response contains meals array\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('meals');",
                  "    pm.expect(jsonData.meals).to.be.an('array');",
                  "});",
                  "",
                  "pm.test(\"Meals array has at least one item\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.meals.length).to.be.at.least(1);",
                  "});",
                  "",
                  "pm.test(\"Recipe has all required fields\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    const recipe = jsonData.meals[0];",
                  "    ",
                  "    pm.expect(recipe).to.have.property('idMeal');",
                  "    pm.expect(recipe).to.have.property('strMeal');",
                  "    pm.expect(recipe).to.have.property('strInstructions');",
                  "    pm.expect(recipe).to.have.property('strMealThumb');",
                  "});",
                  "",
                  "pm.test(\"Recipe has ingredients (strIngredient1-20)\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    const recipe = jsonData.meals[0];",
                  "    ",
                  "    let hasIngredients = false;",
                  "    for (let i = 1; i <= 20; i++) {",
                  "        if (recipe[`strIngredient${i}`] && recipe[`strIngredient${i}`].trim() !== '') {",
                  "            hasIngredients = true;",
                  "            break;",
                  "        }",
                  "    }",
                  "    pm.expect(hasIngredients).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Recipe ID matches requested ID\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    const recipe = jsonData.meals[0];",
                  "    const requestedId = pm.variables.get('recipe_id') || pm.collectionVariables.get('sample_meal_id');",
                  "    ",
                  "    if (requestedId) {",
                  "        pm.expect(recipe.idMeal).to.equal(requestedId);",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/lookup.php?i={{recipe_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "lookup.php"
              ],
              "query": [
                {
                  "key": "i",
                  "value": "{{recipe_id}}",
                  "description": "Recipe ID (e.g., 52772)"
                }
              ]
            },
            "description": "Get full recipe details by recipe ID.\n\n**Returns:** Complete recipe information including:\n- Recipe name, instructions, image\n- All ingredients (strIngredient1-20)\n- Measurements (strMeasure1-20)\n- Category, area, tags, etc.\n\n**Note:** Uses collection variable `sample_meal_id` if `recipe_id` is not set."
          },
          "response": []
        }
      ],
      "description": "Endpoints for searching and retrieving recipe information"
    },
    {
      "name": "Ingredients",
      "item": [
        {
          "name": "Get All Ingredients List",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response time is less than 2000ms\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(2000);",
                  "});",
                  "",
                  "pm.test(\"Response has JSON body\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "pm.test(\"Response contains meals array\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('meals');",
                  "    pm.expect(jsonData.meals).to.be.an('array');",
                  "});",
                  "",
                  "pm.test(\"Meals array is not empty\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.meals.length).to.be.at.least(1);",
                  "});",
                  "",
                  "pm.test(\"Each ingredient has strIngredient property\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    jsonData.meals.forEach(function(ingredient) {",
                  "        pm.expect(ingredient).to.have.property('strIngredient');",
                  "        pm.expect(ingredient.strIngredient).to.be.a('string');",
                  "        pm.expect(ingredient.strIngredient.trim()).to.not.equal('');",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Ingredients list contains common ingredients\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    const ingredientNames = jsonData.meals.map(i => i.strIngredient.toLowerCase());",
                  "    ",
                  "    const commonIngredients = ['chicken', 'beef', 'tomato', 'onion', 'garlic'];",
                  "    const foundCommon = commonIngredients.some(ing => ingredientNames.includes(ing));",
                  "    ",
                  "    pm.expect(foundCommon).to.be.true;",
                  "});",
                  "",
                  "// Save first few ingredients for use in other requests",
                  "if (pm.response.json().meals && pm.response.json().meals.length > 0) {",
                  "    const firstIngredient = pm.response.json().meals[0].strIngredient;",
                  "    pm.collectionVariables.set(\"sample_ingredient\", firstIngredient);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/list.php?i=list",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "list.php"
              ],
              "query": [
                {
                  "key": "i",
                  "value": "list",
                  "description": "Fixed value 'list' to get all ingredients"
                }
              ]
            },
            "description": "Get a complete list of all available ingredients from TheMealDB.\n\n**Returns:** Array of ingredients with `strIngredient` property.\n\n**Note:** This endpoint is cached for 24 hours in the application."
          },
          "response": []
        }
      ],
      "description": "Endpoints for retrieving ingredient information"
    },
    {
      "name": "Test Scenarios",
      "item": [
        {
          "name": "Search with Valid Ingredient",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Returns results for valid ingredient\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.meals).to.not.be.null;",
                  "    pm.expect(jsonData.meals.length).to.be.at.least(1);",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/filter.php?i=chicken",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "filter.php"
              ],
              "query": [
                {
                  "key": "i",
                  "value": "chicken"
                }
              ]
            },
            "description": "Test case: Search with a valid ingredient that should return results"
          },
          "response": []
        },
        {
          "name": "Search with Invalid Ingredient",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Returns null for invalid ingredient\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    // TheMealDB returns null (not empty array) when no results",
                  "    pm.expect(jsonData.meals).to.be.null;",
                  "});",
                  "",
                  "pm.test(\"Status is still 200 even with no results\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/filter.php?i=invalid_ingredient_xyz123",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "filter.php"
              ],
              "query": [
                {
                  "key": "i",
                  "value": "invalid_ingredient_xyz123"
                }
              ]
            },
            "description": "Test case: Search with an invalid ingredient that should return null"
          },
          "response": []
        },
        {
          "name": "Get Recipe with Invalid ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Returns null or empty array for invalid ID\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.meals).to.satisfy(function(meals) {",
                  "        return meals === null || (Array.isArray(meals) && meals.length === 0);",
                  "    });",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/lookup.php?i=99999999",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "lookup.php"
              ],
              "query": [
                {
                  "key": "i",
                  "value": "99999999"
                }
              ]
            },
            "description": "Test case: Get recipe details with an invalid/non-existent recipe ID"
          },
          "response": []
        }
      ],
      "description": "Pre-configured test scenarios for edge cases and validation"
    },
    {
      "name": "Get Random Meals",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Check the response is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "})",
              "pm.test(\"Check the response is json\", function () {",
              "    pm.response.to.be.json; ",
              "})",
              "    ",
              "pm.test(\"Check Meals response is array or null\", function(){",
              " const jsonData = pm.response.json();",
              "    const meals = jsonData.meals;",
              "    pm.expect(meals === null || Array.isArray(meals)).to.be.true;",
              "})",
              "pm.test(\"If meals exist, they have required fields\", function () {",
              "    const jsonData = pm.response.json();",
              "    if (jsonData.meals && jsonData.meals.length > 0) {",
              "        const meal = jsonData.meals[0];",
              "        pm.expect(meal).to.have.property('idMeal');",
              "        pm.expect(meal).to.have.property('strMeal');",
              "        pm.expect(meal).to.have.property('strMealThumb');",
              "    }",
              "})"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/random.php",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "random.php"
          ]
        }
      },
      "response": []
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Set default values if not already set",
          "if (!pm.collectionVariables.get('base_url')) {",
          "    pm.collectionVariables.set('base_url', 'https://www.themealdb.com/api/json/v1/1');",
          "}",
          "",
          "if (!pm.collectionVariables.get('ingredient')) {",
          "    pm.collectionVariables.set('ingredient', 'chicken');",
          "}",
          "",
          "if (!pm.collectionVariables.get('recipe_id')) {",
          "    pm.collectionVariables.set('recipe_id', '52772');",
          "}"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Global test: Log response time",
          "console.log('Response time: ' + pm.response.responseTime + 'ms');"
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "https://www.themealdb.com/api/json/v1/1",
      "type": "string"
    },
    {
      "key": "ingredient",
      "value": "chicken",
      "type": "string"
    },
    {
      "key": "recipe_id",
      "value": "52772",
      "type": "string"
    },
    {
      "key": "sample_meal_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "sample_meal_name",
      "value": "",
      "type": "string"
    },
    {
      "key": "sample_ingredient",
      "value": "",
      "type": "string"
    }
  ]
}