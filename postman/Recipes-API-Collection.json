{
  "info": {
    "_postman_id": "26266159-79ac-4958-87a7-b64555eea330",
    "name": "Recipes API Collection",
    "description": "Complete API collection for testing TheMealDB API endpoints used in the Recipes application.\n\nThis collection includes:\n- Recipe search by ingredient\n- Get all ingredients list\n- Get recipe details by ID\n\nAll requests include automated tests and assertions.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "2200196",
    "_collection_link": "https://go.postman.co/collection/2200196-26266159-79ac-4958-87a7-b64555eea330?source=collection_link"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "login",
          "item": [
            {
              "name": "login-sucess",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "  if (pm.response.code === 200) {",
                      "      const jsonData = pm.response.json();",
                      "      pm.environment.set(\"auth_token\", jsonData.token);",
                      "      console.log('Auth Token',jsonData.token)",
                      "  }"
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "type": "text"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": " {\"email\":\"{{recipes_website_user_mail}}\",\n \"password\":\"{{recipes_website_user_password}}\"\n     \n     }",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{base_url}}/login",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "login"
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "register",
          "item": [
            {
              "name": "register-success",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test(\"Status code is 201\", function () {",
                      "    pm.response.to.have.status(201);",
                      "})",
                      "  if (pm.response.code === 201) {",
                      "      const jsonData = pm.response.json();",
                      "      pm.environment.set(\"auth_token_register\", jsonData.token);",
                      "  }"
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Accept",
                    "value": "application/json",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": " {\n    \"name\":\"{{user_register_name}}\",\n    \"email\":\"{{user_register_email}}\",\n \"password\":\"{{user_register_password}}\",\n \"password_confirmation\":\"{{user_register_password}}\"\n     \n     }",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{base_url}}/register",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "register"
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "logout",
          "item": []
        }
      ]
    },
    {
      "name": "Recipes",
      "item": [
        {
          "name": "Search Recipes by Ingredients",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response time is less than 2000ms\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(2000);",
                  "});",
                  "",
                  "pm.test(\"Response has JSON body\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "/*",
                  "pm.test(\"Response contains meals property\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('meals');",
                  "});",
                  "",
                  "pm.test(\"Meals is array or null (null means no results)\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    const meals = jsonData.meals;",
                  "    pm.expect(meals === null || Array.isArray(meals)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"If meals exist, they have required fields\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    if (jsonData.meals && jsonData.meals.length > 0) {",
                  "        const meal = jsonData.meals[0];",
                  "        pm.expect(meal).to.have.property('idMeal');",
                  "        pm.expect(meal).to.have.property('strMeal');",
                  "        pm.expect(meal).to.have.property('strMealThumb');",
                  "    }",
                  "});",
                  "",
                  "// Save first meal ID for use in other requests",
                  "if (pm.response.json().meals && pm.response.json().meals.length > 0) {",
                  "    pm.collectionVariables.set(\"sample_meal_id\", pm.response.json().meals[0].idMeal);",
                  "    pm.collectionVariables.set(\"sample_meal_name\", pm.response.json().meals[0].strMeal);",
                  "}*/"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"ingredients\": [\n    \"chicken\"\n  ]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/recipes/search",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "recipes",
                "search"
              ]
            },
            "description": "Search for recipes that contain a specific ingredient.\n\n**Note:** TheMealDB returns `null` (not empty array) when no results are found.\n\n**Example ingredients:** chicken, beef, tomato, onion, garlic"
          },
          "response": []
        },
        {
          "name": "random",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Check the response is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "})",
                  "pm.test(\"Check the response is json\", function () {",
                  "    pm.response.to.be.json; ",
                  "})",
                  "    ",
                  "pm.test(\"Check Meals response is array or null\", function(){",
                  " const jsonData = pm.response.json();",
                  "    const recipes = jsonData.recipes;",
                  "    pm.expect(recipes === null || Array.isArray(recipes)).to.be.true;",
                  "})",
                  "pm.test(\"If meals exist, they have required fields\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    if (jsonData.meals && jsonData.meals.length > 0) {",
                  "        const meal = jsonData.meals[0];",
                  "        pm.expect(meal).to.have.property('idMeal');",
                  "        pm.expect(meal).to.have.property('strMeal');",
                  "        pm.expect(meal).to.have.property('strMealThumb');",
                  "    }",
                  "})"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/recipes/random",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "recipes",
                "random"
              ]
            }
          },
          "response": []
        },
        {
          "name": "My Recipes",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{base_url}}/my-recipes",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "my-recipes"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Recipe Details by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response time is less than 2000ms\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(2000);",
                  "});",
                  "",
                  "pm.test(\"Response has JSON body\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "",
                  "pm.test(\"Recipe ID matches requested ID\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    const recipe = jsonData.recipe;",
                  "    const requestedId = pm.variables.get('recipe_id') || pm.collectionVariables.get('recipe_id');",
                  "    ",
                  "    if (requestedId) {",
                  "        pm.expect(recipe.idMeal).to.equal(requestedId);",
                  "    }",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/recipes/{{recipe_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "recipes",
                "{{recipe_id}}"
              ]
            },
            "description": "Get full recipe details by recipe ID.\n\n**Returns:** Complete recipe information including:\n- Recipe name, instructions, image\n- All ingredients (strIngredient1-20)\n- Measurements (strMeasure1-20)\n- Category, area, tags, etc.\n\n**Note:** Uses collection variable `sample_meal_id` if `recipe_id` is not set."
          },
          "response": []
        }
      ],
      "description": "Endpoints for searching and retrieving recipe information"
    },
    {
      "name": "Ingredients",
      "item": [
        {
          "name": "add user ingrediant",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  " pm.test(\"status code is 201\", function(){",
                  "    pm.response.to.have.status(201);",
                  " })",
                  " pm.test(\"response has json body\",function(){",
                  "    pm.response.to.be.json",
                  " })",
                  " pm.test(\"messeage contains successful confirmation\", function(){",
                  "    const jsonBody = pm.response.json();",
                  "    pm.expect(jsonBody.message).to.include(\"Ingredient added successfully\");",
                  " })",
                  " if (pm.response.code === 201) {",
                  "      const jsonData = pm.response.json();",
                  "      pm.environment.set(\"ingredient_id\", jsonData.ingredient.id);",
                  "      console.log('ingredient_id',jsonData.ingredient.id)",
                  "  }"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Ingredient Sample\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/ingredients",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "ingredients"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get user Ingredients",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response time is less than 2000ms\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(2000);",
                  "});",
                  "",
                  "pm.test(\"Response has JSON body\", function () {",
                  "    pm.response.to.be.json;",
                  "});",
                  "pm.test(\"response has ingredient array\",function(){",
                  "    const jsonBody = pm.response.json();",
                  "    pm.expect(jsonBody).to.have.property('ingredients');",
                  "    const ingredientsArray = jsonBody.ingredients;",
                  "    pm.expect(ingredientsArray).to.be.an('array');",
                  "})",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/ingredients",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "ingredients"
              ]
            },
            "description": "Get a complete list of all available ingredients from TheMealDB.\n\n**Returns:** Array of ingredients with `strIngredient` property.\n\n**Note:** This endpoint is cached for 24 hours in the application."
          },
          "response": []
        },
        {
          "name": "Delete a user Ingrediant",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Ingredient deleted successfully\", function () {",
                  "    pm.response.status == 200;",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.message).to.eql(\"Ingredient deleted successfully\");",
                  "})"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/ingredients/:ingredient",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "ingredients",
                ":ingredient"
              ],
              "variable": [
                {
                  "key": "ingredient",
                  "value": "{{ingredient_id}}"
                }
              ]
            }
          },
          "response": []
        }
      ],
      "description": "Endpoints for retrieving ingredient information"
    },
    {
      "name": "Teardown",
      "item": [
        {
          "name": "logout-success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200 or 204\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204]);",
                  "});",
                  "",
                  "// Do NOT unset auth_token here so the variable stays for inspection.",
                  "// Run this request last in the collection so the token stays valid for all prior requests."
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/logout",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "logout"
              ]
            },
            "description": "Invalidates the current token on the server. Run last when running the full collection so the token stays valid for all other requests."
          },
          "response": []
        }
      ]
    },
    {
      "name": "profile",
      "item": [
        {
          "name": "delete registered user",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"user deleted successfully\", function () {",
                  "    pm.response.status == 200;",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.message).to.eql(\"Account deleted successfully\");",
                  "})"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token_register}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"password\": \"{{user_register_password}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/profile",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "profile"
              ]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Set default values if not already set",
          "if (!pm.collectionVariables.get('base_url')) {",
          "    pm.collectionVariables.set('base_url', 'https://www.themealdb.com/api/json/v1/1');",
          "}",
          "",
          "if (!pm.collectionVariables.get('ingredient')) {",
          "    pm.collectionVariables.set('ingredient', 'chicken');",
          "}",
          "",
          "if (!pm.collectionVariables.get('recipe_id')) {",
          "    pm.collectionVariables.set('recipe_id', '52772');",
          "}"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Global test: Log response time",
          "console.log('Response time: ' + pm.response.responseTime + 'ms');"
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "https://www.themealdb.com/api/json/v1/1",
      "type": "string"
    },
    {
      "key": "ingredient",
      "value": "chicken",
      "type": "string"
    },
    {
      "key": "recipe_id",
      "value": "52772",
      "type": "string"
    },
    {
      "key": "sample_meal_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "sample_meal_name",
      "value": "",
      "type": "string"
    },
    {
      "key": "sample_ingredient",
      "value": "",
      "type": "string"
    }
  ]
}